"""
HemoScan AI - Dietary Recommendation Engine
Provides localized, deficiency-aware food recommendations for anemia management.
"""

# Comprehensive food database with nutritional info and regional availability
FOOD_DATABASE = {
    "iron_rich": [
        {
            "id": "spinach",
            "names": {"en": "Spinach", "hi": "рдкрд╛рд▓рдХ", "te": "р░кр░╛р░▓р░Хр▒Вр░░", "ta": "роХрпАро░рпИ"},
            "category": "vegetables",
            "iron_mg_per_100g": 2.7,
            "nutrients": ["iron", "folate", "vitamin_c"],
            "region": ["all"],
            "preparation": {
                "en": "Best consumed lightly cooked with lemon juice to enhance iron absorption",
                "hi": "рдиреАрдВрдмреВ рдХреЗ рд░рд╕ рдХреЗ рд╕рд╛рде рд╣рд▓реНрдХрд╛ рдкрдХрд╛рдХрд░ рдЦрд╛рдиреЗ рд╕реЗ рдЖрдпрд░рди рдХрд╛ рдЕрд╡рд╢реЛрд╖рдг рдмреЗрд╣рддрд░ рд╣реЛрддрд╛ рд╣реИ",
                "te": "р░ир░┐р░ор▒Нр░ор░░р░╕р░Вр░др▒Л р░др▒Зр░▓р░┐р░Хр░Чр░╛ р░╡р░Вр░бр░┐ р░др░┐р░Вр░Яр▒З р░Зр░ир▒Бр░ор▒Б р░╢р▒Лр░╖р░г р░ор▒Жр░░р▒Бр░Чр▒Бр░кр░бр▒Бр░др▒Бр░Вр░жр░┐",
                "ta": "роОро▓рпБрооро┐роЪрпНроЪрпИ роЪро╛ро▒рпБроЯройрпН ро▓рпЗроЪро╛роХ роЪроорпИродрпНродрпБ роЪро╛рокрпНрокро┐роЯрпБро╡родрпБ роЗро░рпБроорпНрокрпБ роЙро▒ро┐роЮрпНроЪрпБродро▓рпИ роЕродро┐роХро░ро┐роХрпНроХрпБроорпН"
            },
            "emoji": "ЁЯем"
        },
        {
            "id": "moringa",
            "names": {"en": "Moringa (Drumstick Leaves)", "hi": "рдореЛрд░рд┐рдВрдЧрд╛ (рд╕рд╣рдЬрди рдкрддреНрддреЗ)", "te": "р░ор▒Бр░ир░Ч р░Жр░Хр▒Бр░▓р▒Б", "ta": "роорпБро░рпБроЩрпНроХрпИ роХрпАро░рпИ"},
            "category": "vegetables",
            "iron_mg_per_100g": 4.0,
            "nutrients": ["iron", "vitamin_c", "calcium", "protein"],
            "region": ["south_india", "all"],
            "preparation": {
                "en": "Add to dal, soups, or make moringa leaf powder for daily use",
                "hi": "рджрд╛рд▓, рд╕реВрдк рдореЗрдВ рдорд┐рд▓рд╛рдПрдВ рдпрд╛ рд░реЛрдЬрд╝ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдкрд╛рдЙрдбрд░ рдмрдирд╛рдПрдВ",
                "te": "р░кр░кр▒Нр░кр▒Б, р░╕р▒Вр░кр▒НтАМр░▓р▒Л р░Хр░▓р░кр░Вр░бр░┐ р░▓р▒Зр░жр░╛ р░░р▒Лр░Ьр▒В р░╡р░╛р░бр░Яр░╛р░ир░┐р░Хр░┐ р░кр▒Кр░бр░┐ р░Ър▒Зр░пр░Вр░бр░┐",
                "ta": "роЪро╛роорпНрокро╛ро░рпН, роЪрпВрокрпНрокро┐ро▓рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН роЕро▓рпНро▓родрпБ родро┐ройроЪро░ро┐ рокропройрпНрокро╛роЯрпНроЯро┐ро▒рпНроХрпБ рокрпКроЯро┐ роЪрпЖропрпНропро╡рпБроорпН"
            },
            "emoji": "ЁЯМ┐"
        },
        {
            "id": "ragi",
            "names": {"en": "Finger Millet (Ragi)", "hi": "рд░рд╛рдЧреА (рдордбреБрдЖ)", "te": "р░░р░╛р░Чр░┐", "ta": "ро░ро╛роХро┐ (роХрпЗро┤рпНро╡ро░роХрпБ)"},
            "category": "grains",
            "iron_mg_per_100g": 3.9,
            "nutrients": ["iron", "calcium", "fiber"],
            "region": ["south_india", "all"],
            "preparation": {
                "en": "Make ragi porridge, ragi dosa, or ragi mudde. Excellent breakfast option",
                "hi": "рд░рд╛рдЧреА рджрд▓рд┐рдпрд╛, рд░рд╛рдЧреА рдбреЛрд╕рд╛ рдпрд╛ рд░рд╛рдЧреА рдореБрджреНрджреЗ рдмрдирд╛рдПрдВред рдирд╛рд╢реНрддреЗ рдХреЗ рд▓рд┐рдП рдЙрддреНрддрдо",
                "te": "р░░р░╛р░Чр░┐ р░Ьр░╛р░╡, р░░р░╛р░Чр░┐ р░жр▒Лр░╢, р░▓р▒Зр░жр░╛ р░░р░╛р░Чр░┐ р░╕р░Вр░Хр░Яр░┐ р░Ър▒Зр░пр░Вр░бр░┐. р░Ер░жр▒Нр░нр▒Бр░др░ор▒Ир░и р░Ер░▓р▒Нр░кр░╛р░╣р░╛р░░р░В",
                "ta": "ро░ро╛роХро┐ роХроЮрпНроЪро┐, ро░ро╛роХро┐ родрпЛроЪрпИ, роЕро▓рпНро▓родрпБ ро░ро╛роХро┐ роорпБроЯрпНроЯрпИ роЪрпЖропрпНропрпБроЩрпНроХро│рпН"
            },
            "emoji": "ЁЯМ╛"
        },
        {
            "id": "dates",
            "names": {"en": "Dates", "hi": "рдЦрдЬреВрд░", "te": "р░Цр░░р▒Нр░Ьр▒Вр░░р░В", "ta": "рокрпЗро░рпАроЪрпНроЪроорпНрокро┤роорпН"},
            "category": "fruits",
            "iron_mg_per_100g": 1.0,
            "nutrients": ["iron", "fiber", "potassium"],
            "region": ["all"],
            "preparation": {
                "en": "Eat 3-5 dates daily as a snack. Soak overnight for better digestion",
                "hi": "рд░реЛрдЬрд╝рд╛рдирд╛ 3-5 рдЦрдЬреВрд░ рдЦрд╛рдПрдВред рдмреЗрд╣рддрд░ рдкрд╛рдЪрди рдХреЗ рд▓рд┐рдП рд░рд╛рдд рднрд░ рднрд┐рдЧреЛрдПрдВ",
                "te": "р░░р▒Лр░Ьр▒В 3-5 р░Цр░░р▒Нр░Ьр▒Вр░░р░╛р░▓р▒Б р░др░┐р░ир░Вр░бр░┐. р░ор▒Жр░░р▒Бр░Чр▒Ир░и р░Ьр▒Ар░░р▒Нр░гр░В р░Хр▒Лр░╕р░В р░░р░╛р░др▒Нр░░р░┐ р░ир░╛р░ир░мр▒Жр░Яр▒Нр░Яр░Вр░бр░┐",
                "ta": "родро┐ройроорпБроорпН 3-5 рокрпЗро░рпАроЪрпНроЪроорпНрокро┤роорпН роЪро╛рокрпНрокро┐роЯрпБроЩрпНроХро│рпН. роиро▓рпНро▓ роЪрпЖро░ро┐рооро╛ройродрпНродро┐ро▒рпНроХрпБ роЗро░ро╡рпБ роКро▒ро╡рпИроХрпНроХро╡рпБроорпН"
            },
            "emoji": "ЁЯлШ"
        },
        {
            "id": "pomegranate",
            "names": {"en": "Pomegranate", "hi": "рдЕрдирд╛рд░", "te": "р░жр░╛р░ир░┐р░ор▒Нр░о", "ta": "рооро╛родрпБро│рпИ"},
            "category": "fruits",
            "iron_mg_per_100g": 0.3,
            "nutrients": ["iron", "vitamin_c", "folate"],
            "region": ["all"],
            "preparation": {
                "en": "Drink fresh pomegranate juice daily. Vitamin C content boosts iron absorption",
                "hi": "рд░реЛрдЬрд╝ рддрд╛рдЬрд╝рд╛ рдЕрдирд╛рд░ рдХрд╛ рд░рд╕ рдкрд┐рдПрдВред рд╡рд┐рдЯрд╛рдорд┐рди C рдЖрдпрд░рди рдЕрд╡рд╢реЛрд╖рдг рдмрдврд╝рд╛рддрд╛ рд╣реИ",
                "te": "р░░р▒Лр░Ьр▒В р░др░╛р░Ьр░╛ р░жр░╛р░ир░┐р░ор▒Нр░о р░░р░╕р░В р░др░╛р░Чр░Вр░бр░┐. р░╡р░┐р░Яр░ор░┐р░ир▒Н C р░Зр░ир▒Бр░ор▒Б р░╢р▒Лр░╖р░гр░ир▒Б р░кр▒Жр░Вр░Ър▒Бр░др▒Бр░Вр░жр░┐",
                "ta": "родро┐ройроорпБроорпН рокрпБродро┐роп рооро╛родрпБро│рпИ роЪро╛ро▒рпБ роХрпБроЯро┐роХрпНроХро╡рпБроорпН. ро╡рпИроЯрпНроЯрооро┐ройрпН C роЗро░рпБроорпНрокрпБ роЙро▒ро┐роЮрпНроЪрпБродро▓рпИ роЕродро┐роХро░ро┐роХрпНроХрпБроорпН"
            },
            "emoji": "ЁЯНО"
        },
        {
            "id": "jaggery",
            "names": {"en": "Jaggery", "hi": "рдЧреБрдбрд╝", "te": "р░мр▒Жр░▓р▒Нр░▓р░В", "ta": "ро╡рпЖро▓рпНро▓роорпН"},
            "category": "others",
            "iron_mg_per_100g": 11.0,
            "nutrients": ["iron", "magnesium"],
            "region": ["all"],
            "preparation": {
                "en": "Replace refined sugar with jaggery in cooking and beverages",
                "hi": "рдЦрд╛рдирд╛ рдмрдирд╛рдиреЗ рдФрд░ рдкреЗрдп рдкрджрд╛рд░реНрдереЛрдВ рдореЗрдВ рдЪреАрдиреА рдХреА рдЬрдЧрд╣ рдЧреБрдбрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ",
                "te": "р░╡р░Вр░Я р░ор░░р░┐р░пр▒Б р░кр░╛р░ир▒Ар░пр░╛р░▓р░▓р▒Л р░Ър░Хр▒Нр░Хр▒Жр░░ р░мр░жр▒Бр░▓р▒Б р░мр▒Жр░▓р▒Нр░▓р░В р░╡р░╛р░бр░Вр░бр░┐",
                "ta": "роЪроорпИропро▓рпН рооро▒рпНро▒рпБроорпН рокро╛ройроЩрпНроХро│ро┐ро▓рпН роЪро░рпНроХрпНроХро░рпИроХрпНроХрпБ рокродро┐ро▓ро╛роХ ро╡рпЖро▓рпНро▓роорпН рокропройрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН"
            },
            "emoji": "ЁЯНп"
        },
        {
            "id": "liver",
            "names": {"en": "Chicken Liver", "hi": "рдЪрд┐рдХрди рд▓реАрд╡рд░ (рдХрд▓реЗрдЬреА)", "te": "р░Хр▒Лр░бр░┐ р░Хр░╛р░▓р▒Зр░пр░В", "ta": "роХрпЛро┤ро┐ роИро░ро▓рпН"},
            "category": "proteins",
            "iron_mg_per_100g": 9.0,
            "nutrients": ["iron", "vitamin_b12", "folate", "protein"],
            "region": ["all"],
            "preparation": {
                "en": "Pan-fry with onions and spices. One of the richest sources of heme iron",
                "hi": "рдкреНрдпрд╛рдЬ рдФрд░ рдорд╕рд╛рд▓реЛрдВ рдХреЗ рд╕рд╛рде рддрд▓реЗрдВред рд╣реАрдо рдЖрдпрд░рди рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╕реНрд░реЛрдд",
                "te": "р░Йр░▓р▒Нр░▓р░┐р░кр░╛р░пр░▓р▒Б, р░ор░╕р░╛р░▓р░╛р░▓р░др▒Л р░╡р▒Зр░пр░┐р░Вр░Ър░Вр░бр░┐. р░╣р▒Ар░ор▒Н р░Зр░ир▒Бр░ор▒Б р░пр▒Кр░Хр▒Нр░Х р░Ер░др▒Нр░пр▒Бр░др▒Нр░др░о р░ор▒Вр░▓р░В",
                "ta": "ро╡рпЖроЩрпНроХро╛ропроорпН рооро▒рпНро▒рпБроорпН роороЪро╛ро▓ро╛ро╡рпБроЯройрпН ро╡ро▒рпБроХрпНроХро╡рпБроорпН. ро╣рпАроорпН роЗро░рпБроорпНрокро┐ройрпН роЪро┐ро▒роирпНрод роЖродро╛ро░роорпН"
            },
            "emoji": "ЁЯНЧ"
        },
        {
            "id": "lentils",
            "names": {"en": "Lentils (Dal)", "hi": "рджрд╛рд▓", "te": "р░кр░кр▒Нр░кр▒Б", "ta": "рокро░рпБрокрпНрокрпБ"},
            "category": "proteins",
            "iron_mg_per_100g": 3.3,
            "nutrients": ["iron", "protein", "folate", "fiber"],
            "region": ["all"],
            "preparation": {
                "en": "Cook as dal with turmeric and serve with rice. Add lemon for better absorption",
                "hi": "рд╣рд▓реНрджреА рдХреЗ рд╕рд╛рде рджрд╛рд▓ рдмрдирд╛рдПрдВ, рдЪрд╛рд╡рд▓ рдХреЗ рд╕рд╛рде рдкрд░реЛрд╕реЗрдВред рдиреАрдВрдмреВ рдбрд╛рд▓реЗрдВ",
                "te": "р░кр░╕р▒Бр░кр▒Бр░др▒Л р░кр░кр▒Нр░кр▒Б р░╡р░Вр░бр░┐ р░Ер░ир▒Нр░ир░Вр░др▒Л р░др░┐р░ир░Вр░бр░┐. р░ир░┐р░ор▒Нр░ор░░р░╕р░В р░Ьр▒Лр░бр░┐р░Вр░Ър░Вр░бр░┐",
                "ta": "роороЮрпНроЪро│рпБроЯройрпН рокро░рпБрокрпНрокрпБ роЪроорпИродрпНродрпБ роЪро╛родродрпНродрпБроЯройрпН рокро░ро┐рооро╛ро▒ро╡рпБроорпН. роОро▓рпБрооро┐роЪрпНроЪрпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН"
            },
            "emoji": "ЁЯлШ"
        },
        {
            "id": "beetroot",
            "names": {"en": "Beetroot", "hi": "рдЪреБрдХрдВрджрд░", "te": "р░мр▒Ар░Яр▒НтАМр░░р▒Вр░Яр▒Н", "ta": "рокрпАроЯрпНро░рпВроЯрпН"},
            "category": "vegetables",
            "iron_mg_per_100g": 0.8,
            "nutrients": ["iron", "folate", "vitamin_c"],
            "region": ["all"],
            "preparation": {
                "en": "Drink beetroot juice mixed with carrot juice. Can also be added to salads",
                "hi": "рдЪреБрдХрдВрджрд░ рдХрд╛ рд░рд╕ рдЧрд╛рдЬрд░ рдХреЗ рд░рд╕ рдХреЗ рд╕рд╛рде рдкрд┐рдПрдВред рд╕рд▓рд╛рдж рдореЗрдВ рднреА рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ",
                "te": "р░мр▒Ар░Яр▒НтАМр░░р▒Вр░Яр▒Н р░░р░╕р░╛р░ир▒Нр░ир░┐ р░Хр▒Нр░пр░╛р░░р░Яр▒Н р░░р░╕р░Вр░др▒Л р░Хр░▓р░┐р░кр░┐ р░др░╛р░Чр░Вр░бр░┐. р░╕р░▓р░╛р░бр▒НтАМр░▓р▒Л р░Хр▒Вр░бр░╛ р░Хр░▓р░кр░╡р░Ър▒Нр░Ър▒Б",
                "ta": "рокрпАроЯрпНро░рпВроЯрпН роЪро╛ро▒рпИ роХрпЗро░роЯрпН роЪро╛ро▒рпБроЯройрпН роХро▓роирпНродрпБ роХрпБроЯро┐роХрпНроХро╡рпБроорпН. роЪро╛ро▓роЯрпНроЯро┐ро▓рпБроорпН роЪрпЗро░рпНроХрпНроХро▓ро╛роорпН"
            },
            "emoji": "ЁЯеХ"
        },
        {
            "id": "sesame",
            "names": {"en": "Sesame Seeds", "hi": "рддрд┐рд▓", "te": "р░ир▒Бр░╡р▒Нр░╡р▒Бр░▓р▒Б", "ta": "роОро│рпН"},
            "category": "others",
            "iron_mg_per_100g": 14.6,
            "nutrients": ["iron", "calcium", "zinc"],
            "region": ["all"],
            "preparation": {
                "en": "Sprinkle on salads, add to smoothies, or make sesame chutney",
                "hi": "рд╕рд▓рд╛рдж рдкрд░ рдЫрд┐рдбрд╝рдХреЗрдВ, рд╕реНрдореВрджреА рдореЗрдВ рдорд┐рд▓рд╛рдПрдВ, рдпрд╛ рддрд┐рд▓ рдХреА рдЪрдЯрдиреА рдмрдирд╛рдПрдВ",
                "te": "р░╕р░▓р░╛р░бр▒НтАМр░кр▒И р░Ър░▓р▒Нр░▓р░Вр░бр░┐, р░╕р▒Нр░ор▒Вр░жр▒Ар░▓р▒Нр░▓р▒Л р░Хр░▓р░кр░Вр░бр░┐, р░▓р▒Зр░жр░╛ р░ир▒Бр░╡р▒Нр░╡р▒Бр░▓ р░кр░Ър▒Нр░Ър░бр░┐ р░Ър▒Зр░пр░Вр░бр░┐",
                "ta": "роЪро╛ро▓роЯрпНроЯро┐ро▓рпН родрпВро╡рпБроЩрпНроХро│рпН, ро╕рпНроорпВродрпНродро┐ропро┐ро▓рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН, роЕро▓рпНро▓родрпБ роОро│рпН роЪроЯрпНройро┐ роЪрпЖропрпНропро╡рпБроорпН"
            },
            "emoji": "ЁЯМ░"
        },
    ],
    "vitamin_c": [
        {
            "id": "amla",
            "names": {"en": "Indian Gooseberry (Amla)", "hi": "рдЖрдВрд╡рд▓рд╛", "te": "р░Йр░╕р░┐р░░р░┐р░Хр░╛р░п", "ta": "роирпЖро▓рпНро▓ро┐роХрпНроХройро┐"},
            "category": "fruits",
            "iron_mg_per_100g": 0.3,
            "nutrients": ["vitamin_c", "antioxidants"],
            "region": ["all"],
            "preparation": {
                "en": "Eat raw, make juice, or consume as amla candy. Massively boosts iron absorption",
                "hi": "рдХрдЪреНрдЪрд╛ рдЦрд╛рдПрдВ, рдЬреВрд╕ рдмрдирд╛рдПрдВ, рдпрд╛ рдЖрдВрд╡рд▓рд╛ рдХреИрдВрдбреА рдЦрд╛рдПрдВред рдЖрдпрд░рди рдЕрд╡рд╢реЛрд╖рдг рдмрд╣реБрдд рдмрдврд╝рд╛рддрд╛ рд╣реИ",
                "te": "р░кр░Ър▒Нр░Ър░┐р░Чр░╛ р░др░┐р░ир░Вр░бр░┐, р░░р░╕р░В р░Ър▒Зр░пр░Вр░бр░┐, р░▓р▒Зр░жр░╛ р░Йр░╕р░┐р░░р░┐ р░Хр▒Нр░пр░╛р░Вр░бр▒А р░др░┐р░ир░Вр░бр░┐. р░Зр░ир▒Бр░ор▒Б р░╢р▒Лр░╖р░гр░ир▒Б р░мр░╛р░Чр░╛ р░кр▒Жр░Вр░Ър▒Бр░др▒Бр░Вр░жр░┐",
                "ta": "рокроЪрпНроЪрпИропро╛роХ роЪро╛рокрпНрокро┐роЯрпБроЩрпНроХро│рпН, роЪро╛ро▒рпБ роЪрпЖропрпНропрпБроЩрпНроХро│рпН. роЗро░рпБроорпНрокрпБ роЙро▒ро┐роЮрпНроЪрпБродро▓рпИ рокрпЖро░ро┐родрпБроорпН роЕродро┐роХро░ро┐роХрпНроХрпБроорпН"
            },
            "emoji": "ЁЯЯв"
        },
        {
            "id": "guava",
            "names": {"en": "Guava", "hi": "рдЕрдорд░реВрдж", "te": "р░Ьр░╛р░о", "ta": "роХрпКропрпНропро╛"},
            "category": "fruits",
            "iron_mg_per_100g": 0.3,
            "nutrients": ["vitamin_c", "fiber", "potassium"],
            "region": ["all"],
            "preparation": {
                "en": "Eat fresh guava with meals. Contains 4x more Vitamin C than oranges",
                "hi": "рднреЛрдЬрди рдХреЗ рд╕рд╛рде рддрд╛рдЬрд╝рд╛ рдЕрдорд░реВрдж рдЦрд╛рдПрдВред рд╕рдВрддрд░реЗ рд╕реЗ 4 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рд╡рд┐рдЯрд╛рдорд┐рди C",
                "te": "р░нр▒Лр░Ьр░ир░Вр░др▒Л р░др░╛р░Ьр░╛ р░Ьр░╛р░о р░др░┐р░ир░Вр░бр░┐. р░ир░╛р░░р░┐р░Вр░Ь р░Хр░Вр░Яр▒З 4 р░░р▒Жр░Яр▒Нр░▓р▒Б р░Ор░Хр▒Нр░Хр▒Бр░╡ р░╡р░┐р░Яр░ор░┐р░ир▒Н C",
                "ta": "роЙрогро╡рпБроЯройрпН рокрпБродро┐роп роХрпКропрпНропро╛ роЪро╛рокрпНрокро┐роЯрпБроЩрпНроХро│рпН. роЖро░роЮрпНроЪрпИ ро╡ро┐роЯ 4 роороЯроЩрпНроХрпБ роЕродро┐роХ ро╡рпИроЯрпНроЯрооро┐ройрпН C"
            },
            "emoji": "ЁЯНР"
        },
        {
            "id": "lemon",
            "names": {"en": "Lemon / Lime", "hi": "рдиреАрдВрдмреВ", "te": "р░ир░┐р░ор▒Нр░ор░Хр░╛р░п", "ta": "роОро▓рпБрооро┐роЪрпНроЪрпИ"},
            "category": "fruits",
            "iron_mg_per_100g": 0.1,
            "nutrients": ["vitamin_c"],
            "region": ["all"],
            "preparation": {
                "en": "Squeeze on iron-rich foods before eating. Critical for non-heme iron absorption",
                "hi": "рдЦрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЖрдпрд░рди-рдпреБрдХреНрдд рдЦрд╛рдиреЗ рдкрд░ рдирд┐рдЪреЛрдбрд╝реЗрдВред рдиреЙрди-рд╣реАрдо рдЖрдпрд░рди рдЕрд╡рд╢реЛрд╖рдг рдХреЗ рд▓рд┐рдП рдЬрд╝рд░реВрд░реА",
                "te": "р░Зр░ир▒Бр░ор▒Б р░Ер░зр░┐р░Хр░ор▒Ир░и р░Жр░╣р░╛р░░р░Вр░кр▒И р░кр░┐р░Вр░бр░Вр░бр░┐. р░ир░╛р░ир▒Н-р░╣р▒Ар░ор▒Н р░Зр░ир▒Бр░ор▒Б р░╢р▒Лр░╖р░гр░Хр▒Б р░Ер░╡р░╕р░░р░В",
                "ta": "роЗро░рпБроорпНрокрпБроЪрпН роЪродрпНродрпБ роиро┐ро▒рпИроирпНрод роЙрогро╡ро┐ройрпН роорпАродрпБ рокро┐ро┤ро┐ропрпБроЩрпНроХро│рпН. роиро╛ройрпН-ро╣рпАроорпН роЗро░рпБроорпНрокрпБ роЙро▒ро┐роЮрпНроЪрпБродро▓рпБроХрпНроХрпБ роЕро╡роЪро┐ропроорпН"
            },
            "emoji": "ЁЯНЛ"
        },
    ],
    "folate_rich": [
        {
            "id": "bengal_gram",
            "names": {"en": "Bengal Gram (Chana)", "hi": "рдЪрдирд╛", "te": "р░╢р░ир░Чр░▓р▒Б", "ta": "роХрпКрогрпНроЯрпИроХрпНроХроЯро▓рпИ"},
            "category": "proteins",
            "iron_mg_per_100g": 4.6,
            "nutrients": ["iron", "folate", "protein", "fiber"],
            "region": ["all"],
            "preparation": {
                "en": "Soak overnight and cook as chana masala. Also sprout for maximum nutrition",
                "hi": "рд░рд╛рддрднрд░ рднрд┐рдЧреЛрдХрд░ рдЪрдирд╛ рдорд╕рд╛рд▓рд╛ рдмрдирд╛рдПрдВред рдЕрдВрдХреБрд░рд┐рдд рдХрд░реЗрдВ рдЕрдзрд┐рдХ рдкреЛрд╖рдг рдХреЗ рд▓рд┐рдП",
                "te": "р░░р░╛р░др▒Нр░░р░┐ р░ир░╛р░ир░мр▒Жр░Яр▒Нр░Яр░┐ р░Ър░ир░╛ р░ор░╕р░╛р░▓р░╛ р░Ър▒Зр░пр░Вр░бр░┐. р░Чр░░р░┐р░╖р▒Нр░Я р░кр▒Лр░╖р░г р░Хр▒Лр░╕р░В р░ор▒Кр░▓р░Хр▒Жр░др▒Нр░др░┐р░Вр░Ър░Вр░бр░┐",
                "ta": "роЗро░ро╡рпБ роКро▒ро╡рпИродрпНродрпБ роЪройрпНройро╛ роороЪро╛ро▓ро╛ роЪрпЖропрпНропрпБроЩрпНроХро│рпН. роЕродро┐роХ роКроЯрпНроЯроЪрпНроЪродрпНродро┐ро▒рпНроХрпБ роорпБро│рпИроХроЯрпНроЯро╡рпБроорпН"
            },
            "emoji": "ЁЯлЫ"
        },
        {
            "id": "amaranth",
            "names": {"en": "Amaranth Leaves", "hi": "рдЪреМрд▓рд╛рдИ", "te": "р░др▒Лр░Яр░Хр▒Вр░░", "ta": "роорпБро│рпИроХрпНроХрпАро░рпИ"},
            "category": "vegetables",
            "iron_mg_per_100g": 2.3,
            "nutrients": ["iron", "folate", "calcium", "vitamin_c"],
            "region": ["south_india", "all"],
            "preparation": {
                "en": "Cook as a side dish (sabzi) with garlic and cumin. Very common in South India",
                "hi": "рд▓рд╣рд╕реБрди рдФрд░ рдЬреАрд░реЗ рдХреЗ рд╕рд╛рде рд╕рдмреНрдЬрд╝реА рдмрдирд╛рдПрдВред рджрдХреНрд╖рд┐рдг рднрд╛рд░рдд рдореЗрдВ рдмрд╣реБрдд рдЖрдо",
                "te": "р░╡р▒Жр░▓р▒Нр░▓р▒Бр░▓р▒Нр░▓р░┐, р░Ьр▒Ар░▓р░Хр░░р▒Нр░░р░др▒Л р░Хр▒Вр░░ р░Ър▒Зр░пр░Вр░бр░┐. р░жр░Хр▒Нр░╖р░┐р░г р░нр░╛р░░р░др░жр▒Зр░╢р░Вр░▓р▒Л р░Ър░╛р░▓р░╛ р░╕р░╛р░зр░╛р░░р░гр░В",
                "ta": "рокрпВрогрпНроЯрпБ рооро▒рпНро▒рпБроорпН роЪрпАро░роХродрпНродрпБроЯройрпН роХрпВроЯрпНроЯрпБ роЪрпЖропрпНропрпБроЩрпНроХро│рпН. родрпЖройрпН роЗроирпНродро┐ропро╛ро╡ро┐ро▓рпН рооро┐роХро╡рпБроорпН рокрпКродрпБро╡ро╛ройродрпБ"
            },
            "emoji": "ЁЯеЧ"
        },
    ],
    "vitamin_b12": [
        {
            "id": "eggs",
            "names": {"en": "Eggs", "hi": "рдЕрдВрдбреЗ", "te": "р░Чр▒Бр░бр▒Нр░▓р▒Б", "ta": "роорпБроЯрпНроЯрпИ"},
            "category": "proteins",
            "iron_mg_per_100g": 1.8,
            "nutrients": ["vitamin_b12", "iron", "protein"],
            "region": ["all"],
            "preparation": {
                "en": "Eat 1-2 boiled eggs daily. Yolk contains most of the iron and B12",
                "hi": "рд░реЛрдЬрд╝ 1-2 рдЙрдмрд▓реЗ рдЕрдВрдбреЗ рдЦрд╛рдПрдВред рдЬрд░реНрджреА рдореЗрдВ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЖрдпрд░рди рдФрд░ B12 рд╣реЛрддрд╛ рд╣реИ",
                "te": "р░░р▒Лр░Ьр▒В 1-2 р░Йр░бр░┐р░Хр░┐р░Вр░Ър░┐р░и р░Чр▒Бр░бр▒Нр░▓р▒Б р░др░┐р░ир░Вр░бр░┐. р░кр░Ър▒Нр░Ър░╕р▒Кр░ир░▓р▒Л р░Ор░Хр▒Нр░Хр▒Бр░╡ р░Зр░ир▒Бр░ор▒Б р░ор░░р░┐р░пр▒Б B12 р░Йр░Вр░Яр▒Бр░Вр░жр░┐",
                "ta": "родро┐ройроорпБроорпН 1-2 ро╡рпЗроХро╡рпИродрпНрод роорпБроЯрпНроЯрпИ роЪро╛рокрпНрокро┐роЯрпБроЩрпНроХро│рпН. роороЮрпНроЪро│рпН роХро░рпБро╡ро┐ро▓рпН роЕродро┐роХ роЗро░рпБроорпНрокрпБ рооро▒рпНро▒рпБроорпН B12 роЙро│рпНро│родрпБ"
            },
            "emoji": "ЁЯеЪ"
        },
        {
            "id": "curd",
            "names": {"en": "Yogurt / Curd", "hi": "рджрд╣реА", "te": "р░кр▒Жр░░р▒Бр░Чр▒Б", "ta": "родропро┐ро░рпН"},
            "category": "dairy",
            "iron_mg_per_100g": 0.1,
            "nutrients": ["vitamin_b12", "calcium", "probiotics"],
            "region": ["all"],
            "preparation": {
                "en": "Have a bowl of curd with meals. Helps with digestion and B12 intake",
                "hi": "рднреЛрдЬрди рдХреЗ рд╕рд╛рде рдПрдХ рдХрдЯреЛрд░реА рджрд╣реА рд▓реЗрдВред рдкрд╛рдЪрди рдФрд░ B12 рд╕реЗрд╡рди рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ",
                "te": "р░нр▒Лр░Ьр░ир░Вр░др▒Л р░Тр░Х р░Чр░┐р░ир▒Нр░ир▒Ж р░кр▒Жр░░р▒Бр░Чр▒Б р░др░┐р░ир░Вр░бр░┐. р░Ьр▒Ар░░р▒Нр░гр░Хр▒Нр░░р░┐р░п р░ор░░р░┐р░пр▒Б B12 р░кр▒Кр░Вр░жр░бр░Вр░▓р▒Л р░╕р░╣р░╛р░пр░кр░бр▒Бр░др▒Бр░Вр░жр░┐",
                "ta": "роЙрогро╡рпБроЯройрпН роТро░рпБ роХро┐рогрпНрогроорпН родропро┐ро░рпН роЪро╛рокрпНрокро┐роЯрпБроЩрпНроХро│рпН. роЪрпЖро░ро┐рооро╛ройроорпН рооро▒рпНро▒рпБроорпН B12 роЙроЯрпНроХрпКро│рпНро│рпБродро▓рпБроХрпНроХрпБ роЙродро╡рпБроХро┐ро▒родрпБ"
            },
            "emoji": "ЁЯеЫ"
        },
    ],
}

# Absorption enhancers and inhibitors
ABSORPTION_TIPS = {
    "enhancers": [
        {
            "en": "Eat Vitamin C-rich foods (amla, guava, lemon) WITH iron-rich foods to boost absorption by up to 300%",
            "hi": "рдЖрдпрд░рди рдпреБрдХреНрдд рдЦрд╛рдиреЗ рдХреЗ рд╕рд╛рде рд╡рд┐рдЯрд╛рдорд┐рди C рд╡рд╛рд▓реЗ рдЦрд╛рджреНрдп рдкрджрд╛рд░реНрде (рдЖрдВрд╡рд▓рд╛, рдЕрдорд░реВрдж, рдиреАрдВрдмреВ) рдЦрд╛рдПрдВ - рдЕрд╡рд╢реЛрд╖рдг 300% рддрдХ рдмрдврд╝рддрд╛ рд╣реИ",
            "te": "р░Зр░ир▒Бр░ор▒Б р░Ер░зр░┐р░Хр░ор▒Ир░и р░Жр░╣р░╛р░░р░Вр░др▒Л р░╡р░┐р░Яр░ор░┐р░ир▒Н C р░Жр░╣р░╛р░░р░╛р░▓р▒Б (р░Йр░╕р░┐р░░р░┐, р░Ьр░╛р░о, р░ир░┐р░ор▒Нр░о) р░др░┐р░ир░Вр░бр░┐ - р░╢р▒Лр░╖р░г 300% р░╡р░░р░Хр▒Б р░кр▒Жр░░р▒Бр░Чр▒Бр░др▒Бр░Вр░жр░┐",
            "ta": "роЗро░рпБроорпНрокрпБроЪрпН роЪродрпНродрпБ роиро┐ро▒рпИроирпНрод роЙрогро╡рпБроЯройрпН ро╡рпИроЯрпНроЯрооро┐ройрпН C роЙрогро╡рпБроХро│рпИ (роирпЖро▓рпНро▓ро┐, роХрпКропрпНропро╛, роОро▓рпБрооро┐роЪрпНроЪрпИ) роЪро╛рокрпНрокро┐роЯрпБроЩрпНроХро│рпН - роЙро▒ро┐роЮрпНроЪрпБродро▓рпН 300% ро╡ро░рпИ роЕродро┐роХро░ро┐роХрпНроХрпБроорпН"
        },
        {
            "en": "Cook in iron utensils (cast iron pans) to increase iron content of food naturally",
            "hi": "рд▓реЛрд╣реЗ рдХреЗ рдмрд░реНрддрдиреЛрдВ (рдХрд╛рд╕реНрдЯ рдЖрдпрд░рди рдкреИрди) рдореЗрдВ рдкрдХрд╛рдПрдВ - рднреЛрдЬрди рдореЗрдВ рдЖрдпрд░рди рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рдмрдврд╝рддрд╛ рд╣реИ",
            "te": "р░Зр░ир▒Бр░к р░кр░╛р░др▒Нр░░р░▓р░▓р▒Л (р░Хр░╛р░╕р▒Нр░Яр▒Н р░Рр░░р░ир▒Н р░кр░╛р░ир▒Н) р░╡р░Вр░Я р░Ър▒Зр░пр░Вр░бр░┐ - р░Жр░╣р░╛р░░р░Вр░▓р▒Л р░Зр░ир▒Бр░ор▒Б р░╕р░╣р░Ьр░Вр░Чр░╛ р░кр▒Жр░░р▒Бр░Чр▒Бр░др▒Бр░Вр░жр░┐",
            "ta": "роЗро░рпБроорпНрокрпБ рокро╛родрпНродро┐ро░роЩрпНроХро│ро┐ро▓рпН (роХро╛ро╕рпНроЯрпН роЕропро░рпНройрпН рокро╛ройрпН) роЪроорпИроХрпНроХро╡рпБроорпН - роЗропро▒рпНроХрпИропро╛роХро╡рпЗ роЙрогро╡ро┐ро▓рпН роЗро░рпБроорпНрокрпБ роЕродро┐роХро░ро┐роХрпНроХрпБроорпН"
        },
        {
            "en": "Soaking and sprouting grains/lentils reduces phytates and increases iron availability",
            "hi": "рдЕрдирд╛рдЬ/рджрд╛рд▓реЛрдВ рдХреЛ рднрд┐рдЧреЛрдиреЗ рдФрд░ рдЕрдВрдХреБрд░рд┐рдд рдХрд░рдиреЗ рд╕реЗ рдлрд╛рдЗрдЯреЗрдЯ рдХрдо рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЖрдпрд░рди рдмреЗрд╣рддрд░ рдорд┐рд▓рддрд╛ рд╣реИ",
            "te": "р░зр░╛р░ир▒Нр░пр░╛р░▓р▒Б/р░кр░кр▒Нр░кр▒Бр░▓р░ир▒Б р░ир░╛р░ир░мр▒Жр░Яр▒Нр░Яр░бр░В, р░ор▒Кр░▓р░Хр▒Жр░др▒Нр░др░┐р░Вр░Ър░бр░В р░жр▒Нр░╡р░╛р░░р░╛ р░лр▒Ир░Яр▒Зр░Яр▒Нр░▓р▒Б р░др░Чр▒Нр░Чр░┐ р░Зр░ир▒Бр░ор▒Б р░▓р░нр▒Нр░пр░д р░кр▒Жр░░р▒Бр░Чр▒Бр░др▒Бр░Вр░жр░┐",
            "ta": "родро╛ройро┐ропроЩрпНроХро│рпН/рокро░рпБрокрпНрокрпБроХро│рпИ роКро▒ро╡рпИродрпНродрпБ роорпБро│рпИроХроЯрпНроЯрпБро╡родрпБ рокрпИроЯрпНроЯрпЗроЯрпНроХро│рпИроХрпН роХрпБро▒рпИродрпНродрпБ роЗро░рпБроорпНрокрпБ роХро┐роЯрпИрокрпНрокродрпИ роЕродро┐роХро░ро┐роХрпНроХрпБроорпН"
        },
    ],
    "inhibitors": [
        {
            "en": "Avoid tea/coffee within 1 hour of iron-rich meals тАФ tannins block iron absorption by 60%",
            "hi": "рдЖрдпрд░рди-рдпреБрдХреНрдд рднреЛрдЬрди рдХреЗ 1 рдШрдВрдЯреЗ рдХреЗ рднреАрддрд░ рдЪрд╛рдп/рдХреЙрдлреА рд╕реЗ рдмрдЪреЗрдВ тАФ рдЯреИрдирд┐рди рдЖрдпрд░рди рдЕрд╡рд╢реЛрд╖рдг рдХреЛ 60% рдХрдо рдХрд░рддрд╛ рд╣реИ",
            "te": "р░Зр░ир▒Бр░ор▒Б р░Ер░зр░┐р░Хр░ор▒Ир░и р░нр▒Лр░Ьр░ир░В р░др░░р▒Нр░╡р░╛р░д 1 р░Чр░Вр░Яр░▓р▒Лр░кр▒Б р░Яр▒А/р░Хр░╛р░лр▒А р░др░╛р░Чр░Хр░Вр░бр░┐ тАФ р░Яр░╛р░ир░┐р░ир▒НтАМр░▓р▒Б р░Зр░ир▒Бр░ор▒Б р░╢р▒Лр░╖р░гр░ир▒Б 60% р░др░Чр▒Нр░Чр░┐р░╕р▒Нр░др░╛р░пр░┐",
            "ta": "роЗро░рпБроорпНрокрпБроЪрпН роЪродрпНродрпБ роиро┐ро▒рпИроирпНрод роЙрогро╡рпБроХрпНроХрпБ 1 роорогро┐ роирпЗро░родрпНродро┐ро▒рпНроХрпБро│рпН роЯрпА/роХро╛рокро┐ родро╡ро┐ро░рпНроХрпНроХро╡рпБроорпН тАФ роЯро╛ройро┐ройрпН роЗро░рпБроорпНрокрпБ роЙро▒ро┐роЮрпНроЪрпБродро▓рпИ 60% родроЯрпБроХрпНроХрпБроорпН"
        },
        {
            "en": "Excess dairy with iron-rich meals can reduce absorption тАФ separate calcium and iron intake",
            "hi": "рдЖрдпрд░рди-рдпреБрдХреНрдд рднреЛрдЬрди рдХреЗ рд╕рд╛рде рдЕрдзрд┐рдХ рдбреЗрдпрд░реА рдЕрд╡рд╢реЛрд╖рдг рдХрдо рдХрд░ рд╕рдХрддреА рд╣реИ тАФ рдХреИрд▓реНрд╢рд┐рдпрдо рдФрд░ рдЖрдпрд░рди рдЕрд▓рдЧ рд▓реЗрдВ",
            "te": "р░Зр░ир▒Бр░ор▒Б р░Жр░╣р░╛р░░р░Вр░др▒Л р░Ер░зр░┐р░Х р░кр░╛р░▓ р░Йр░др▒Нр░кр░др▒Нр░др▒Бр░▓р▒Б р░╢р▒Лр░╖р░гр░ир▒Б р░др░Чр▒Нр░Чр░┐р░Вр░Ър░╡р░Ър▒Нр░Ър▒Б тАФ р░Хр░╛р░▓р▒Нр░╖р░┐р░пр░В, р░Зр░ир▒Бр░ор▒Бр░ир▒Б р░╡р░┐р░бр░┐р░Чр░╛ р░др▒Ар░╕р▒Бр░Хр▒Лр░Вр░бр░┐",
            "ta": "роЗро░рпБроорпНрокрпБроЪрпН роЪродрпНродрпБ роЙрогро╡рпБроЯройрпН роЕродро┐роХ рокро╛ро▓рпН рокрпКро░рпБроЯрпНроХро│рпН роЙро▒ро┐роЮрпНроЪрпБродро▓рпИроХрпН роХрпБро▒рпИроХрпНроХро▓ро╛роорпН тАФ роХро╛ро▓рпНроЪро┐ропроорпН, роЗро░рпБроорпНрокрпИ родройро┐родрпНродройро┐ропро╛роХ роОроЯрпБроХрпНроХро╡рпБроорпН"
        },
    ],
}

# Sample meal plans
MEAL_PLANS = {
    "mild": {
        "title": {"en": "Mild Anemia Recovery Plan", "hi": "рд╣рд▓реНрдХреЗ рдПрдиреАрдорд┐рдпрд╛ рд░рд┐рдХрд╡рд░реА рдкреНрд▓рд╛рди", "te": "р░др▒Зр░▓р░┐р░Хр░кр░╛р░Яр░┐ р░░р░Хр▒Нр░др░╣р▒Ар░ир░д р░░р░┐р░Хр░╡р░░р▒А р░кр▒Нр░▓р░╛р░ир▒Н", "ta": "ро▓рпЗроЪро╛рой роЗро░родрпНродроЪрпЛроХрпИ роорпАроЯрпНрокрпБ родро┐роЯрпНроЯроорпН"},
        "meals": {
            "breakfast": {
                "en": "Ragi porridge with jaggery + 1 boiled egg + amla juice",
                "hi": "рдЧреБрдбрд╝ рдХреЗ рд╕рд╛рде рд░рд╛рдЧреА рджрд▓рд┐рдпрд╛ + 1 рдЙрдмрд▓рд╛ рдЕрдВрдбрд╛ + рдЖрдВрд╡рд▓рд╛ рдЬреВрд╕",
                "te": "р░мр▒Жр░▓р▒Нр░▓р░Вр░др▒Л р░░р░╛р░Чр░┐ р░Ьр░╛р░╡ + 1 р░Йр░бр░┐р░Хр░┐р░Вр░Ър░┐р░и р░Чр▒Бр░бр▒Нр░бр▒Б + р░Йр░╕р░┐р░░р░┐ р░░р░╕р░В",
                "ta": "ро╡рпЖро▓рпНро▓родрпНродрпБроЯройрпН ро░ро╛роХро┐ роХроЮрпНроЪро┐ + 1 ро╡рпЗроХро╡рпИродрпНрод роорпБроЯрпНроЯрпИ + роирпЖро▓рпНро▓ро┐роХрпНроХройро┐ роЪро╛ро▒рпБ"
            },
            "lunch": {
                "en": "Rice + dal + spinach sabzi + beetroot salad + lemon",
                "hi": "рдЪрд╛рд╡рд▓ + рджрд╛рд▓ + рдкрд╛рд▓рдХ рд╕рдмреНрдЬрд╝реА + рдЪреБрдХрдВрджрд░ рд╕рд▓рд╛рдж + рдиреАрдВрдмреВ",
                "te": "р░Ер░ир▒Нр░ир░В + р░кр░кр▒Нр░кр▒Б + р░кр░╛р░▓р░Хр▒Вр░░ р░кр▒Бр░▓р▒Бр░╕р▒Б + р░мр▒Ар░Яр▒НтАМр░░р▒Вр░Яр▒Н р░╕р░▓р░╛р░бр▒Н + р░ир░┐р░ор▒Нр░о",
                "ta": "роЪро╛родроорпН + рокро░рпБрокрпНрокрпБ + роХрпАро░рпИ рокрпКро░ро┐ропро▓рпН + рокрпАроЯрпНро░рпВроЯрпН роЪро╛ро▓роЯрпН + роОро▓рпБрооро┐роЪрпНроЪрпИ"
            },
            "snack": {
                "en": "Handful of dates + sesame seeds + fresh guava",
                "hi": "рдореБрдЯреНрдареА рднрд░ рдЦрдЬреВрд░ + рддрд┐рд▓ + рддрд╛рдЬрд╝рд╛ рдЕрдорд░реВрдж",
                "te": "р░Чр▒Бр░кр▒Нр░кр▒Жр░бр▒Б р░Цр░░р▒Нр░Ьр▒Вр░░р░╛р░▓р▒Б + р░ир▒Бр░╡р▒Нр░╡р▒Бр░▓р▒Б + р░др░╛р░Ьр░╛ р░Ьр░╛р░о",
                "ta": "роТро░рпБ роХрпИрокрпНрокро┐роЯро┐ рокрпЗро░рпАроЪрпНроЪроорпНрокро┤роорпН + роОро│рпН + рокрпБродро┐роп роХрпКропрпНропро╛"
            },
            "dinner": {
                "en": "Chapati + chicken liver curry OR chana masala + moringa soup",
                "hi": "рдЪрдкрд╛рддреА + рдХрд▓реЗрдЬреА рдХрд░реА рдпрд╛ рдЪрдирд╛ рдорд╕рд╛рд▓рд╛ + рдореЛрд░рд┐рдВрдЧрд╛ рд╕реВрдк",
                "te": "р░Ър░кр░╛р░др▒А + р░Хр▒Лр░бр░┐ р░Хр░╛р░▓р▒Зр░пр░В р░Хр░░р▒Нр░░р▒А р░▓р▒Зр░жр░╛ р░Ър░ир░╛ р░ор░╕р░╛р░▓р░╛ + р░ор▒Бр░ир░Ч р░╕р▒Вр░кр▒Н",
                "ta": "роЪрокрпНрокро╛родрпНродро┐ + роХрпЛро┤ро┐ роИро░ро▓рпН роХро▒ро┐ роЕро▓рпНро▓родрпБ роЪройрпНройро╛ роороЪро╛ро▓ро╛ + роорпБро░рпБроЩрпНроХрпИ роЪрпВрокрпН"
            },
        }
    },
    "moderate": {
        "title": {"en": "Moderate Anemia Recovery Plan", "hi": "рдордзреНрдпрдо рдПрдиреАрдорд┐рдпрд╛ рд░рд┐рдХрд╡рд░реА рдкреНрд▓рд╛рди", "te": "р░ор░зр▒Нр░пр░╕р▒Нр░е р░░р░Хр▒Нр░др░╣р▒Ар░ир░д р░░р░┐р░Хр░╡р░░р▒А р░кр▒Нр░▓р░╛р░ир▒Н", "ta": "рооро┐родрооро╛рой роЗро░родрпНродроЪрпЛроХрпИ роорпАроЯрпНрокрпБ родро┐роЯрпНроЯроорпН"},
        "meals": {
            "breakfast": {
                "en": "Ragi dosa + moringa chutney + pomegranate juice + dates",
                "hi": "рд░рд╛рдЧреА рдбреЛрд╕рд╛ + рдореЛрд░рд┐рдВрдЧрд╛ рдЪрдЯрдиреА + рдЕрдирд╛рд░ рдХрд╛ рдЬреВрд╕ + рдЦрдЬреВрд░",
                "te": "р░░р░╛р░Чр░┐ р░жр▒Лр░╢ + р░ор▒Бр░ир░Ч р░кр░Ър▒Нр░Ър░бр░┐ + р░жр░╛р░ир░┐р░ор▒Нр░о р░░р░╕р░В + р░Цр░░р▒Нр░Ьр▒Вр░░р░╛р░▓р▒Б",
                "ta": "ро░ро╛роХро┐ родрпЛроЪрпИ + роорпБро░рпБроЩрпНроХрпИ роЪроЯрпНройро┐ + рооро╛родрпБро│рпИ роЪро╛ро▒рпБ + рокрпЗро░рпАроЪрпНроЪроорпНрокро┤роорпН"
            },
            "lunch": {
                "en": "Rice + sambar with drumstick + amaranth leaves + lemon + curd",
                "hi": "рдЪрд╛рд╡рд▓ + рд╕рд╣рдЬрди рд╕рд╛рдВрднрд░ + рдЪреМрд▓рд╛рдИ рд╕рд╛рдЧ + рдиреАрдВрдмреВ + рджрд╣реА",
                "te": "р░Ер░ир▒Нр░ир░В + р░ор▒Бр░ир░Чр░Хр░╛р░п р░╕р░╛р░Вр░мр░╛р░░р▒Б + р░др▒Лр░Яр░Хр▒Вр░░ + р░ир░┐р░ор▒Нр░о + р░кр▒Жр░░р▒Бр░Чр▒Б",
                "ta": "роЪро╛родроорпН + роорпБро░рпБроЩрпНроХрпИ роЪро╛роорпНрокро╛ро░рпН + роорпБро│рпИроХрпНроХрпАро░рпИ + роОро▓рпБрооро┐роЪрпНроЪрпИ + родропро┐ро░рпН"
            },
            "snack": {
                "en": "Sprouted bengal gram chaat + amla + jaggery sesame balls",
                "hi": "рдЕрдВрдХреБрд░рд┐рдд рдЪрдирд╛ рдЪрд╛рдЯ + рдЖрдВрд╡рд▓рд╛ + рдЧреБрдбрд╝-рддрд┐рд▓ рдХреЗ рд▓рдбреНрдбреВ",
                "te": "р░ор▒Кр░▓р░Хр▒Жр░др▒Нр░др░┐р░и р░╢р░ир░Чр░▓ р░Ър░╛р░Яр▒Н + р░Йр░╕р░┐р░░р░┐ + р░мр▒Жр░▓р▒Нр░▓р░В-р░ир▒Бр░╡р▒Нр░╡р▒Бр░▓ р░Йр░Вр░бр░▓р▒Б",
                "ta": "роорпБро│рпИроХроЯрпНроЯро┐роп роХрпКрогрпНроЯрпИроХрпНроХроЯро▓рпИ роЪро╛роЯрпН + роирпЖро▓рпНро▓ро┐ + ро╡рпЖро▓рпНро▓ роОро│рпН роЙро░рпБрогрпНроЯрпИ"
            },
            "dinner": {
                "en": "Chapati + liver fry/paneer + spinach dal + beetroot juice",
                "hi": "рдЪрдкрд╛рддреА + рдХрд▓реЗрдЬреА рдлреНрд░рд╛рдИ/рдкрдиреАрд░ + рдкрд╛рд▓рдХ рджрд╛рд▓ + рдЪреБрдХрдВрджрд░ рдЬреВрд╕",
                "te": "р░Ър░кр░╛р░др▒А + р░Хр░╛р░▓р▒Зр░пр░В р░╡р▒Зр░кр▒Бр░бр▒Б/р░кр░ир▒Ар░░р▒Н + р░кр░╛р░▓р░Хр▒Вр░░ р░кр░кр▒Нр░кр▒Б + р░мр▒Ар░Яр▒НтАМр░░р▒Вр░Яр▒Н р░░р░╕р░В",
                "ta": "роЪрокрпНрокро╛родрпНродро┐ + роИро░ро▓рпН ро╡ро▒рпБро╡ро▓рпН/рокройрпАро░рпН + роХрпАро░рпИ рокро░рпБрокрпНрокрпБ + рокрпАроЯрпНро░рпВроЯрпН роЪро╛ро▒рпБ"
            },
        }
    },
    "severe": {
        "title": {"en": "Severe Anemia Recovery Plan (alongside medical treatment)", "hi": "рдЧрдВрднреАрд░ рдПрдиреАрдорд┐рдпрд╛ рд░рд┐рдХрд╡рд░реА рдкреНрд▓рд╛рди (рдЪрд┐рдХрд┐рддреНрд╕рд╛ рдЙрдкрдЪрд╛рд░ рдХреЗ рд╕рд╛рде)", "te": "р░др▒Ар░╡р▒Нр░░ р░░р░Хр▒Нр░др░╣р▒Ар░ир░д р░░р░┐р░Хр░╡р░░р▒А р░кр▒Нр░▓р░╛р░ир▒Н (р░╡р▒Ир░жр▒Нр░п р░Ър░┐р░Хр░┐р░др▒Нр░╕р░др▒Л р░кр░╛р░Яр▒Б)", "ta": "роХроЯрпБроорпИропро╛рой роЗро░родрпНродроЪрпЛроХрпИ роорпАроЯрпНрокрпБ родро┐роЯрпНроЯроорпН (рооро░рпБродрпНродрпБро╡ роЪро┐роХро┐роЪрпНроЪрпИропрпБроЯройрпН)"},
        "meals": {
            "breakfast": {
                "en": "Ragi porridge with jaggery + 2 boiled eggs + pomegranate juice + amla",
                "hi": "рдЧреБрдбрд╝ рдХреЗ рд╕рд╛рде рд░рд╛рдЧреА рджрд▓рд┐рдпрд╛ + 2 рдЙрдмрд▓реЗ рдЕрдВрдбреЗ + рдЕрдирд╛рд░ рдЬреВрд╕ + рдЖрдВрд╡рд▓рд╛",
                "te": "р░мр▒Жр░▓р▒Нр░▓р░Вр░др▒Л р░░р░╛р░Чр░┐ р░Ьр░╛р░╡ + 2 р░Йр░бр░┐р░Хр░┐р░Вр░Ър░┐р░и р░Чр▒Бр░бр▒Нр░▓р▒Б + р░жр░╛р░ир░┐р░ор▒Нр░о р░░р░╕р░В + р░Йр░╕р░┐р░░р░┐",
                "ta": "ро╡рпЖро▓рпНро▓родрпНродрпБроЯройрпН ро░ро╛роХро┐ роХроЮрпНроЪро┐ + 2 ро╡рпЗроХро╡рпИродрпНрод роорпБроЯрпНроЯрпИ + рооро╛родрпБро│рпИ роЪро╛ро▒рпБ + роирпЖро▓рпНро▓ро┐"
            },
            "lunch": {
                "en": "Rice + double portion dal + liver curry + moringa + beetroot + lemon",
                "hi": "рдЪрд╛рд╡рд▓ + рджреЛрдЧреБрдиреА рджрд╛рд▓ + рдХрд▓реЗрдЬреА рдХрд░реА + рдореЛрд░рд┐рдВрдЧрд╛ + рдЪреБрдХрдВрджрд░ + рдиреАрдВрдмреВ",
                "te": "р░Ер░ир▒Нр░ир░В + р░░р▒Жр░Яр▒Нр░Яр░┐р░Вр░кр▒Б р░кр░кр▒Нр░кр▒Б + р░Хр░╛р░▓р▒Зр░пр░В р░Хр░░р▒Нр░░р▒А + р░ор▒Бр░ир░Ч + р░мр▒Ар░Яр▒НтАМр░░р▒Вр░Яр▒Н + р░ир░┐р░ор▒Нр░о",
                "ta": "роЪро╛родроорпН + роЗро░роЯрпНроЯрпИ рокро░рпБрокрпНрокрпБ + роИро░ро▓рпН роХро▒ро┐ + роорпБро░рпБроЩрпНроХрпИ + рокрпАроЯрпНро░рпВроЯрпН + роОро▓рпБрооро┐роЪрпНроЪрпИ"
            },
            "snack": {
                "en": "Dates (5-6) + sesame-jaggery ladoo + guava + sprouted chana",
                "hi": "рдЦрдЬреВрд░ (5-6) + рддрд┐рд▓-рдЧреБрдбрд╝ рд▓рдбреНрдбреВ + рдЕрдорд░реВрдж + рдЕрдВрдХреБрд░рд┐рдд рдЪрдирд╛",
                "te": "р░Цр░░р▒Нр░Ьр▒Вр░░р░╛р░▓р▒Б (5-6) + р░ир▒Бр░╡р▒Нр░╡р▒Бр░▓-р░мр▒Жр░▓р▒Нр░▓р░В р░Йр░Вр░бр░▓р▒Б + р░Ьр░╛р░о + р░ор▒Кр░▓р░Хр░▓р▒Б",
                "ta": "рокрпЗро░рпАроЪрпНроЪроорпНрокро┤роорпН (5-6) + роОро│рпН-ро╡рпЖро▓рпНро▓ роЙро░рпБрогрпНроЯрпИ + роХрпКропрпНропро╛ + роорпБро│рпИ"
            },
            "dinner": {
                "en": "Chapati + amaranth leaves curry + egg bhurji + iron-fortified cereal",
                "hi": "рдЪрдкрд╛рддреА + рдЪреМрд▓рд╛рдИ рдХрд░реА + рдЕрдВрдбрд╛ рднреБрд░реНрдЬреА + рдЖрдпрд░рди-рдлреЛрд░реНрдЯрд┐рдлрд╛рдЗрдб рдЕрдирд╛рдЬ",
                "te": "р░Ър░кр░╛р░др▒А + р░др▒Лр░Яр░Хр▒Вр░░ р░Хр░░р▒Нр░░р▒А + р░Ор░Чр▒Н р░нр▒Бр░░р▒Нр░Ьр▒А + р░Рр░░р░ир▒Н-р░лр▒Лр░░р▒Нр░Яр░┐р░лр▒Ир░бр▒Н р░╕р▒Ар░░р░┐р░пр░▓р▒Н",
                "ta": "роЪрокрпНрокро╛родрпНродро┐ + роорпБро│рпИроХрпНроХрпАро░рпИ роХро▒ро┐ + роорпБроЯрпНроЯрпИ рокрпБро░рпНроЬро┐ + роЗро░рпБроорпНрокрпБ ро╡ро▓рпБро╡рпВроЯрпНроЯрокрпНрокроЯрпНроЯ родро╛ройро┐ропроорпН"
            },
        }
    },
}


def get_diet_recommendations(severity: str, deficiencies: list, language: str = "en", gender: int = 0, is_pregnant: bool = False):
    """
    Generate personalized diet recommendations based on screening results.

    Args:
        severity: One of Normal, Mild Anemia, Moderate Anemia, Severe Anemia
        deficiencies: List of detected deficiencies e.g. ['low_iron', 'low_ferritin', 'low_hemoglobin']
        language: Language code (en, hi, te, ta)
        gender: 0=Female, 1=Male
        is_pregnant: Whether patient is pregnant
    """
    lang = language if language in ["en", "hi", "te", "ta"] else "en"

    # Determine which food categories to prioritize
    recommended_foods = []
    priority_categories = set()

    if "low_iron" in deficiencies or "low_hemoglobin" in deficiencies:
        priority_categories.add("iron_rich")
        priority_categories.add("vitamin_c")  # Always pair with Vitamin C

    if "low_ferritin" in deficiencies:
        priority_categories.add("iron_rich")
        priority_categories.add("vitamin_c")

    if "low_folate" in deficiencies or severity in ["Moderate Anemia", "Severe Anemia"]:
        priority_categories.add("folate_rich")

    if "low_b12" in deficiencies or severity in ["Moderate Anemia", "Severe Anemia"]:
        priority_categories.add("vitamin_b12")

    # For all anemia cases, always recommend iron and vitamin C
    if severity != "Normal":
        priority_categories.add("iron_rich")
        priority_categories.add("vitamin_c")

    # Build food list
    for category in priority_categories:
        if category in FOOD_DATABASE:
            for food in FOOD_DATABASE[category]:
                food_item = {
                    "id": food["id"],
                    "name": food["names"].get(lang, food["names"]["en"]),
                    "category": category,
                    "food_group": food["category"],
                    "iron_per_100g": food["iron_mg_per_100g"],
                    "nutrients": food["nutrients"],
                    "preparation": food["preparation"].get(lang, food["preparation"]["en"]),
                    "emoji": food["emoji"],
                }
                recommended_foods.append(food_item)

    # Sort by iron content
    recommended_foods.sort(key=lambda x: x["iron_per_100g"], reverse=True)

    # Remove duplicates (same food can appear in multiple categories)
    seen_ids = set()
    unique_foods = []
    for f in recommended_foods:
        if f["id"] not in seen_ids:
            seen_ids.add(f["id"])
            unique_foods.append(f)
    recommended_foods = unique_foods

    # Get meal plan based on severity
    meal_plan = None
    if severity == "Mild Anemia":
        plan = MEAL_PLANS["mild"]
        meal_plan = {
            "title": plan["title"].get(lang, plan["title"]["en"]),
            "meals": {k: v.get(lang, v["en"]) for k, v in plan["meals"].items()}
        }
    elif severity == "Moderate Anemia":
        plan = MEAL_PLANS["moderate"]
        meal_plan = {
            "title": plan["title"].get(lang, plan["title"]["en"]),
            "meals": {k: v.get(lang, v["en"]) for k, v in plan["meals"].items()}
        }
    elif severity == "Severe Anemia":
        plan = MEAL_PLANS["severe"]
        meal_plan = {
            "title": plan["title"].get(lang, plan["title"]["en"]),
            "meals": {k: v.get(lang, v["en"]) for k, v in plan["meals"].items()}
        }

    # Absorption tips
    tips = {
        "enhancers": [t.get(lang, t["en"]) for t in ABSORPTION_TIPS["enhancers"]],
        "inhibitors": [t.get(lang, t["en"]) for t in ABSORPTION_TIPS["inhibitors"]],
    }

    # Pregnancy-specific recommendations
    pregnancy_note = None
    if is_pregnant:
        pregnancy_notes = {
            "en": "During pregnancy, iron needs increase to 27mg/day. Include folic acid-rich foods like lentils, spinach, and fortified cereals. Consult your doctor for iron supplements.",
            "hi": "рдЧрд░реНрднрд╛рд╡рд╕реНрдерд╛ рдореЗрдВ рдЖрдпрд░рди рдХреА рдЬрд╝рд░реВрд░рдд 27mg/рджрд┐рди рддрдХ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред рдлреЛрд▓рд┐рдХ рдПрд╕рд┐рдб рдпреБрдХреНрдд рдЦрд╛рджреНрдп рдкрджрд╛рд░реНрде рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВред рдЖрдпрд░рди рд╕рдкреНрд▓реАрдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдбреЙрдХреНрдЯрд░ рд╕реЗ рдкрд░рд╛рдорд░реНрд╢ рдХрд░реЗрдВред",
            "te": "р░Чр░░р▒Нр░нр░зр░╛р░░р░г р░╕р░ор░пр░Вр░▓р▒Л р░Зр░ир▒Бр░ор▒Б р░Ер░╡р░╕р░░р░В 27mg/р░░р▒Лр░Ьр▒Б р░╡р░░р░Хр▒Б р░кр▒Жр░░р▒Бр░Чр▒Бр░др▒Бр░Вр░жр░┐. р░лр▒Лр░▓р░┐р░Хр▒Н р░Жр░╕р░┐р░бр▒Н р░Жр░╣р░╛р░░р░╛р░▓р░ир▒Б р░Ър▒Зр░░р▒Нр░Ър░Вр░бр░┐. р░Рр░░р░ир▒Н р░╕р░кр▒Нр░▓р░┐р░ор▒Жр░Вр░Яр▒Нр░▓ р░Хр▒Лр░╕р░В р░╡р▒Ир░жр▒Нр░пр▒Бр░бр░┐р░ир░┐ р░╕р░Вр░кр▒Нр░░р░жр░┐р░Вр░Ър░Вр░бр░┐.",
            "ta": "роХро░рпНрокрпНрок роХро╛ро▓родрпНродро┐ро▓рпН роЗро░рпБроорпНрокрпБродрпН родрпЗро╡рпИ 27mg/роиро╛ро│рпН ро╡ро░рпИ роЕродро┐роХро░ро┐роХрпНроХро┐ро▒родрпБ. роГрокрпЛро▓ро┐роХрпН роЕрооро┐ро▓роорпН роиро┐ро▒рпИроирпНрод роЙрогро╡рпБроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН. роЗро░рпБроорпНрокрпБ роЪродрпНродрпБ рооро╛родрпНродро┐ро░рпИроХро│рпБроХрпНроХрпБ рооро░рпБродрпНродрпБро╡ро░рпИ роЕрогрпБроХро╡рпБроорпН."
        }
        pregnancy_note = pregnancy_notes.get(lang, pregnancy_notes["en"])

    # Daily target info
    daily_iron_target = 27 if is_pregnant else (18 if gender == 0 else 8)
    daily_target_labels = {
        "en": f"Recommended daily iron intake: {daily_iron_target} mg/day",
        "hi": f"рдЕрдиреБрд╢рдВрд╕рд┐рдд рджреИрдирд┐рдХ рдЖрдпрд░рди рд╕реЗрд╡рди: {daily_iron_target} mg/рджрд┐рди",
        "te": f"р░░р▒Лр░Ьр▒В р░╕р░┐р░лр░╛р░░р▒Нр░╕р▒Б р░Ър▒Зр░пр░мр░бр░┐р░и р░Зр░ир▒Бр░ор▒Б р░др▒Ар░╕р▒Бр░Хр▒Лр░╡р░бр░В: {daily_iron_target} mg/р░░р▒Лр░Ьр▒Б",
        "ta": f"рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ родро┐ройроЪро░ро┐ роЗро░рпБроорпНрокрпБ роЙроЯрпНроХрпКро│рпНро│ро▓рпН: {daily_iron_target} mg/роиро╛ро│рпН",
    }

    return {
        "foods": recommended_foods,
        "meal_plan": meal_plan,
        "absorption_tips": tips,
        "pregnancy_note": pregnancy_note,
        "daily_iron_target": daily_iron_target,
        "daily_target_label": daily_target_labels.get(lang, daily_target_labels["en"]),
        "severity": severity,
        "deficiencies": deficiencies,
    }
